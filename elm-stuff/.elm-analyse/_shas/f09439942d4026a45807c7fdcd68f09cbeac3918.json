{"moduleDefinition":{"range":[1,1,1,102],"value":{"type":"normal","normal":{"moduleName":{"range":[1,8,1,15],"value":["Session"]},"exposingList":{"range":[1,16,1,102],"value":{"type":"explicit","explicit":[{"range":[1,26,1,33],"value":{"type":"typeOrAlias","typeOrAlias":{"name":"Session"}}},{"range":[1,35,1,42],"value":{"type":"function","function":{"name":"changes"}}},{"range":[1,44,1,60],"value":{"type":"function","function":{"name":"checkTokenExpiry"}}},{"range":[1,62,1,66],"value":{"type":"function","function":{"name":"cred"}}},{"range":[1,68,1,76],"value":{"type":"function","function":{"name":"fromCred"}}},{"range":[1,78,1,87],"value":{"type":"function","function":{"name":"isExpired"}}},{"range":[1,89,1,95],"value":{"type":"function","function":{"name":"navKey"}}},{"range":[1,97,1,101],"value":{"type":"function","function":{"name":"role"}}}]}}}}},"imports":[{"range":[3,1,3,33],"value":{"moduleName":{"range":[3,8,3,11],"value":["Api"]},"moduleAlias":null,"exposingList":{"range":[3,12,3,33],"value":{"type":"explicit","explicit":[{"range":[3,22,3,26],"value":{"type":"typeOrAlias","typeOrAlias":{"name":"Cred"}}},{"range":[3,28,3,32],"value":{"type":"typeOrAlias","typeOrAlias":{"name":"Role"}}}]}}}},{"range":[4,1,4,33],"value":{"moduleName":{"range":[4,8,4,26],"value":["Browser","Navigation"]},"moduleAlias":{"range":[4,30,4,33],"value":["Nav"]},"exposingList":null}},{"range":[5,1,5,28],"value":{"moduleName":{"range":[5,8,5,13],"value":["Debug"]},"moduleAlias":null,"exposingList":{"range":[5,14,5,28],"value":{"type":"explicit","explicit":[{"range":[5,24,5,27],"value":{"type":"function","function":{"name":"log"}}}]}}}},{"range":[6,1,6,31],"value":{"moduleName":{"range":[6,8,6,11],"value":["Jwt"]},"moduleAlias":null,"exposingList":{"range":[6,12,6,31],"value":{"type":"explicit","explicit":[{"range":[6,22,6,30],"value":{"type":"typeOrAlias","typeOrAlias":{"name":"JwtError"}}}]}}}},{"range":[7,1,7,28],"value":{"moduleName":{"range":[7,8,7,12],"value":["Task"]},"moduleAlias":null,"exposingList":{"range":[7,13,7,28],"value":{"type":"explicit","explicit":[{"range":[7,23,7,27],"value":{"type":"typeOrAlias","typeOrAlias":{"name":"Task"}}}]}}}},{"range":[8,1,8,29],"value":{"moduleName":{"range":[8,8,8,12],"value":["Time"]},"moduleAlias":null,"exposingList":{"range":[8,13,8,29],"value":{"type":"explicit","explicit":[{"range":[8,23,8,28],"value":{"type":"typeOrAlias","typeOrAlias":{"name":"Posix"}}}]}}}}],"declarations":[{"range":[15,1,17,20],"value":{"type":"typedecl","typedecl":{"documentation":null,"name":{"range":[15,6,15,13],"value":"Session"},"generics":[],"constructors":[{"range":[16,7,16,28],"value":{"name":{"range":[16,7,16,15],"value":"LoggedIn"},"arguments":[{"range":[16,16,16,23],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[16,16,16,23],"value":{"moduleName":["Nav"],"name":"Key"}},"args":[]}}},{"range":[16,24,16,28],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[16,24,16,28],"value":{"moduleName":[],"name":"Cred"}},"args":[]}}}]}},{"range":[17,7,17,20],"value":{"name":{"range":[17,7,17,12],"value":"Guest"},"arguments":[{"range":[17,13,17,20],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[17,13,17,20],"value":{"moduleName":["Nav"],"name":"Key"}},"args":[]}}}]}}]}}},{"range":[24,1,31,20],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[24,1,24,29],"value":{"name":{"range":[24,1,24,5],"value":"cred"},"typeAnnotation":{"range":[24,8,24,29],"value":{"type":"function","function":{"left":{"range":[24,8,24,15],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[24,8,24,15],"value":{"moduleName":[],"name":"Session"}},"args":[]}}},"right":{"range":[24,19,24,29],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[24,19,24,24],"value":{"moduleName":[],"name":"Maybe"}},"args":[{"range":[24,25,24,29],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[24,25,24,29],"value":{"moduleName":[],"name":"Cred"}},"args":[]}}}]}}}}}}}},"declaration":{"range":[25,1,31,20],"value":{"name":{"range":[25,1,25,5],"value":"cred"},"arguments":[{"range":[25,6,25,13],"value":{"type":"var","var":{"value":"session"}}}],"expression":{"range":[26,5,31,20],"value":{"type":"case","case":{"cases":[{"pattern":{"range":[27,9,27,23],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"LoggedIn"},"patterns":[{"range":[27,18,27,19],"value":{"type":"all","all":{}}},{"range":[27,20,27,23],"value":{"type":"var","var":{"value":"val"}}}]}}},"expression":{"range":[28,13,28,21],"value":{"type":"application","application":[{"range":[28,13,28,17],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"Just"}}},{"range":[28,18,28,21],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"val"}}}]}}},{"pattern":{"range":[30,9,30,16],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"Guest"},"patterns":[{"range":[30,15,30,16],"value":{"type":"all","all":{}}}]}}},"expression":{"range":[31,13,31,20],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"Nothing"}}}}],"expression":{"range":[26,10,26,17],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"session"}}}}}}}}}}},{"range":[34,1,41,16],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[34,1,34,28],"value":{"name":{"range":[34,1,34,7],"value":"navKey"},"typeAnnotation":{"range":[34,10,34,28],"value":{"type":"function","function":{"left":{"range":[34,10,34,17],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[34,10,34,17],"value":{"moduleName":[],"name":"Session"}},"args":[]}}},"right":{"range":[34,21,34,28],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[34,21,34,28],"value":{"moduleName":["Nav"],"name":"Key"}},"args":[]}}}}}}}},"declaration":{"range":[35,1,41,16],"value":{"name":{"range":[35,1,35,7],"value":"navKey"},"arguments":[{"range":[35,8,35,15],"value":{"type":"var","var":{"value":"session"}}}],"expression":{"range":[36,5,41,16],"value":{"type":"case","case":{"cases":[{"pattern":{"range":[37,9,37,23],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"LoggedIn"},"patterns":[{"range":[37,18,37,21],"value":{"type":"var","var":{"value":"key"}}},{"range":[37,22,37,23],"value":{"type":"all","all":{}}}]}}},"expression":{"range":[38,13,38,16],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"key"}}}},{"pattern":{"range":[40,9,40,18],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"Guest"},"patterns":[{"range":[40,15,40,18],"value":{"type":"var","var":{"value":"key"}}}]}}},"expression":{"range":[41,13,41,16],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"key"}}}}],"expression":{"range":[36,10,36,17],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"session"}}}}}}}}}}},{"range":[44,1,53,1],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[44,1,44,23],"value":{"name":{"range":[44,1,44,5],"value":"role"},"typeAnnotation":{"range":[44,8,44,23],"value":{"type":"function","function":{"left":{"range":[44,8,44,15],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[44,8,44,15],"value":{"moduleName":[],"name":"Session"}},"args":[]}}},"right":{"range":[44,19,44,23],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[44,19,44,23],"value":{"moduleName":[],"name":"Role"}},"args":[]}}}}}}}},"declaration":{"range":[45,1,53,1],"value":{"name":{"range":[45,1,45,5],"value":"role"},"arguments":[{"range":[45,6,45,13],"value":{"type":"var","var":{"value":"session"}}}],"expression":{"range":[46,5,53,1],"value":{"type":"let","let":{"declarations":[{"range":[47,9,49,5],"value":{"type":"function","function":{"documentation":null,"signature":null,"declaration":{"range":[47,9,48,25],"value":{"name":{"range":[47,9,47,16],"value":"credval"},"arguments":[],"expression":{"range":[48,13,48,25],"value":{"type":"application","application":[{"range":[48,13,48,17],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"cred"}}},{"range":[48,18,48,25],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"session"}}}]}}}}}}}],"expression":{"range":[50,5,50,48],"value":{"type":"application","application":[{"range":[50,5,50,8],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"log"}}},{"range":[50,9,50,15],"value":{"type":"literal","literal":"Role"}},{"range":[50,16,50,40],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Api"],"name":"getRoleFromMaybeCred"}}},{"range":[50,41,50,48],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"credval"}}}]}}}}}}}}}},{"range":[53,1,62,1],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[53,1,53,50],"value":{"name":{"range":[53,1,53,17],"value":"checkTokenExpiry"},"typeAnnotation":{"range":[53,20,53,50],"value":{"type":"function","function":{"left":{"range":[53,20,53,27],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[53,20,53,27],"value":{"moduleName":[],"name":"Session"}},"args":[]}}},"right":{"range":[53,31,53,50],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[53,31,53,35],"value":{"moduleName":[],"name":"Task"}},"args":[{"range":[53,36,53,41],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[53,36,53,41],"value":{"moduleName":[],"name":"Never"}},"args":[]}}},{"range":[53,42,53,50],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[53,42,53,50],"value":{"moduleName":[],"name":"JwtError"}},"args":[]}}}]}}}}}}}},"declaration":{"range":[54,1,62,1],"value":{"name":{"range":[54,1,54,17],"value":"checkTokenExpiry"},"arguments":[{"range":[54,18,54,25],"value":{"type":"var","var":{"value":"session"}}}],"expression":{"range":[55,5,62,1],"value":{"type":"let","let":{"declarations":[{"range":[56,9,58,5],"value":{"type":"function","function":{"documentation":null,"signature":null,"declaration":{"range":[56,9,57,25],"value":{"name":{"range":[56,9,56,16],"value":"credval"},"arguments":[],"expression":{"range":[57,13,57,25],"value":{"type":"application","application":[{"range":[57,13,57,17],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"cred"}}},{"range":[57,18,57,25],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"session"}}}]}}}}}}}],"expression":{"range":[59,5,59,33],"value":{"type":"application","application":[{"range":[59,5,59,25],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Api"],"name":"checkTokenExpiry"}}},{"range":[59,26,59,33],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"credval"}}}]}}}}}}}}}},{"range":[62,1,75,1],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[62,1,62,53],"value":{"name":{"range":[62,1,62,10],"value":"isExpired"},"typeAnnotation":{"range":[62,13,62,53],"value":{"type":"function","function":{"left":{"range":[62,13,62,18],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[62,13,62,18],"value":{"moduleName":[],"name":"Posix"}},"args":[]}}},"right":{"range":[62,22,62,53],"value":{"type":"function","function":{"left":{"range":[62,22,62,29],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[62,22,62,29],"value":{"moduleName":[],"name":"Session"}},"args":[]}}},"right":{"range":[62,33,62,53],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[62,33,62,39],"value":{"moduleName":[],"name":"Result"}},"args":[{"range":[62,40,62,48],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[62,40,62,48],"value":{"moduleName":[],"name":"JwtError"}},"args":[]}}},{"range":[62,49,62,53],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[62,49,62,53],"value":{"moduleName":[],"name":"Bool"}},"args":[]}}}]}}}}}}}}}}},"declaration":{"range":[63,1,75,1],"value":{"name":{"range":[63,1,63,10],"value":"isExpired"},"arguments":[{"range":[63,11,63,15],"value":{"type":"var","var":{"value":"time"}}},{"range":[63,16,63,23],"value":{"type":"var","var":{"value":"session"}}}],"expression":{"range":[64,5,75,1],"value":{"type":"let","let":{"declarations":[{"range":[65,9,67,5],"value":{"type":"function","function":{"documentation":null,"signature":null,"declaration":{"range":[65,9,66,25],"value":{"name":{"range":[65,9,65,16],"value":"credval"},"arguments":[],"expression":{"range":[66,13,66,25],"value":{"type":"application","application":[{"range":[66,13,66,17],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"cred"}}},{"range":[66,18,66,25],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"session"}}}]}}}}}}}],"expression":{"range":[68,5,68,31],"value":{"type":"application","application":[{"range":[68,5,68,18],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Api"],"name":"isExpired"}}},{"range":[68,19,68,23],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"time"}}},{"range":[68,24,68,31],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"credval"}}}]}}}}}}}}}},{"range":[75,1,77,67],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[75,1,75,49],"value":{"name":{"range":[75,1,75,8],"value":"changes"},"typeAnnotation":{"range":[75,11,75,49],"value":{"type":"function","function":{"left":{"range":[75,11,75,27],"value":{"type":"function","function":{"left":{"range":[75,12,75,19],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[75,12,75,19],"value":{"moduleName":[],"name":"Session"}},"args":[]}}},"right":{"range":[75,23,75,26],"value":{"type":"generic","generic":{"value":"msg"}}}}}},"right":{"range":[75,31,75,49],"value":{"type":"function","function":{"left":{"range":[75,31,75,38],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[75,31,75,38],"value":{"moduleName":["Nav"],"name":"Key"}},"args":[]}}},"right":{"range":[75,42,75,49],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[75,42,75,45],"value":{"moduleName":[],"name":"Sub"}},"args":[{"range":[75,46,75,49],"value":{"type":"generic","generic":{"value":"msg"}}}]}}}}}}}}}}},"declaration":{"range":[76,1,77,67],"value":{"name":{"range":[76,1,76,8],"value":"changes"},"arguments":[{"range":[76,9,76,14],"value":{"type":"var","var":{"value":"toMsg"}}},{"range":[76,15,76,18],"value":{"type":"var","var":{"value":"key"}}}],"expression":{"range":[77,5,77,67],"value":{"type":"application","application":[{"range":[77,5,77,20],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Api"],"name":"credChanges"}}},{"range":[77,21,77,67],"value":{"type":"parenthesized","parenthesized":{"range":[77,22,77,66],"value":{"type":"lambda","lambda":{"patterns":[{"range":[77,23,77,32],"value":{"type":"var","var":{"value":"maybeCred"}}}],"expression":{"range":[77,36,77,66],"value":{"type":"application","application":[{"range":[77,36,77,41],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"toMsg"}}},{"range":[77,42,77,66],"value":{"type":"parenthesized","parenthesized":{"range":[77,43,77,65],"value":{"type":"application","application":[{"range":[77,43,77,51],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"fromCred"}}},{"range":[77,52,77,55],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"key"}}},{"range":[77,56,77,65],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"maybeCred"}}}]}}}}]}}}}}}}]}}}}}}},{"range":[80,1,87,22],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[80,1,80,44],"value":{"name":{"range":[80,1,80,9],"value":"fromCred"},"typeAnnotation":{"range":[80,12,80,44],"value":{"type":"function","function":{"left":{"range":[80,12,80,19],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[80,12,80,19],"value":{"moduleName":["Nav"],"name":"Key"}},"args":[]}}},"right":{"range":[80,23,80,44],"value":{"type":"function","function":{"left":{"range":[80,23,80,33],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[80,23,80,28],"value":{"moduleName":[],"name":"Maybe"}},"args":[{"range":[80,29,80,33],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[80,29,80,33],"value":{"moduleName":[],"name":"Cred"}},"args":[]}}}]}}},"right":{"range":[80,37,80,44],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[80,37,80,44],"value":{"moduleName":[],"name":"Session"}},"args":[]}}}}}}}}}}},"declaration":{"range":[81,1,87,22],"value":{"name":{"range":[81,1,81,9],"value":"fromCred"},"arguments":[{"range":[81,10,81,13],"value":{"type":"var","var":{"value":"key"}}},{"range":[81,14,81,23],"value":{"type":"var","var":{"value":"maybeCred"}}}],"expression":{"range":[82,5,87,22],"value":{"type":"case","case":{"cases":[{"pattern":{"range":[83,9,83,21],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"Just"},"patterns":[{"range":[83,14,83,21],"value":{"type":"var","var":{"value":"credVal"}}}]}}},"expression":{"range":[84,13,84,33],"value":{"type":"application","application":[{"range":[84,13,84,21],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"LoggedIn"}}},{"range":[84,22,84,25],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"key"}}},{"range":[84,26,84,33],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"credVal"}}}]}}},{"pattern":{"range":[86,9,86,16],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"Nothing"},"patterns":[]}}},"expression":{"range":[87,13,87,22],"value":{"type":"application","application":[{"range":[87,13,87,18],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"Guest"}}},{"range":[87,19,87,22],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"key"}}}]}}}],"expression":{"range":[82,10,82,19],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"maybeCred"}}}}}}}}}}}],"comments":[{"range":[72,1,72,11],"value":"-- CHANGES"},{"range":[21,1,21,8],"value":"-- INFO"},{"range":[12,1,12,9],"value":"-- TYPES"}]}